# cs

스레드

Q1. 스레드란?

프로세스에서는 자원과 제어로 구분할 수 있는데 이 중에서 제어만 분리한 실행 단위를 스레드 라고 합니다. 코드, 전역 데이터, 힙을 다른 스레드와 공유합니다.스레드 실행 환경 정보, 지역데이터나 스택은 스레드가 독립적으로 가지고 있습니다.

분할할수있는 실행단위,공유메모리공간, 실행단위(답변)

Q2. 스레드의 이점

프로세스가 하나인 서로 다른 프로세서에서 프로그램의 다른 부분을 동시에 돌릴 수 있습니다.사용자 응답성 증가, 프로세스의 자원과 메모리 공유가능(동일한 주소공간에서 스레드를 여러 개 실행하여 시스템 성능을 향상할 수 있다.),경제성(스레드를 사용하여 문맥교환시 오버헤드가 줄어듭니다.)다중처리(멀티프로세싱)로 성능과 효율을 향상시킬 수 있습니다. 


Q3. 다중 스레드의 의미?

프로그램 하나를 여러 실행 단위로 쪼개어 실행한다는 측면에서 다중 처리(다중 프로세싱)와 의미가 비슷합니다.
여러개 스레드 동시동작

Q3-1. 스레드는 커널 개입없이 독립적으로 실행할 수 있다. 없다?있다. 
없다. 찾아볼필요가있다(수정해야하는것)

Q4. 스레드의 상태 변화에 대한 설명 
![img](https://lh5.googleusercontent.com/yA26V2K06CV4NI8FoKtmlfTiwIWlgjwx2I6hGKvPn0AoAfamtXv9xUZdYZ3pa6BOstfsVluSGosfr81qWqdcugdjCHCDAsVNlG0HPlQs2hPrum08kGqEXBDT5YxoBGrztA1uRgc3)

디스패치의 경우 스레드가 프로세서를 점유하여 실행되는 상태, 종료의 경우에는 자원을 해제하고 레지스터 문맥과 스택 할당을 제거합니다.(스레드의 정보를 저장하고 있는것이 레지스터와 스택입니다.)


Q5. 스레드 생성시에 운영체제가 부모 프로세스와 공유할 자원을 초기화할 필요가 없는 이유

프로세스가 스택과 레지스터를 제공하기 때문에 프로세스의 생성과 종료보다는 오버헤드가 훨씬 적습니다.
부모프로세스 메모리 자원공유질문) 스레드는 각각 스택을 가지고 있는데, 책 지문에서는 스레드 한 개가 다른 스레드의 스택을 읽거나 덮어쓸 수 있다. 라고 나와있다. 정말 그런건가?책에나와있는부분 찾아보기
Tip) 스레드 제어 블록에는 레지스터 값, 프로그램 카운터, 스택 포인터, 스케줄링 상태 외에도 스레드 ID와 해당 스레드를 포함하는 프로세스 포인터 같은 특정 값도 저장합니다.

Q6. 사용자 수준 스레드(다대일 매핑) 의 장단점

장점 : 이식성이 높다. (커널에 독립적인 스케줄링이 가능합니다. 모든 운영체제에 적용할 수 있습니다.), 오버헤드가 적습니다.(스케줄링이나 동기화 하기위해 커널을 호출하지 않습니다.) 유연한 스케줄링이 가능합니다.(스레드 라이브러리에서 스레드 스케줄링을 제어하므로 응용 프로그램에 맞게 스케줄링할 수 있습니다.)
사용자컨트롤커널과매핑되지않아서 독립적이지않고 퍼포며스떨어진다

단점 : 시스템의 동시성을 지원하지 않습니다. (프로세스 단위로 할당하여 다중 처리 환경을 갖춰도 스레드 단위로 다중 처리를 하지 못합니다.) 

질문) 동일한 프로세스의 스레드 한 개가 대기상태가 됨녀 이 중 어떤 스레드도 실행하지 못할 것이다. -> 데드락의 경우

![운영체제OS](https://img1.daumcdn.net/thumb/R800x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F99E6D83A5C460E9406)



확장에 제약이 따름(커널이 한 프로세스에 속한 여러 스레드에 프로세서를 동시에 할당할 수 없어 다중 처리 시스템에서 규모를 확장하기 어렵습니다.)스레드간 보호 불 가능(스레드 간 보호에 커널의 보호 방법을 사용할 수 없습니다.)

커널 수준의 스레드에서 한 프로세스에서 다수의 스레드가 프로세서를 할당받아 병행으로 수행하고 스레드 한개가 대기 상태가 되면 동일한 프로세스에 속한 다른 스레드로 교환이 가능해집니다. 

Q7. 스레드 풀링이란?

스레드를 효율적으로 사용할 수 있는 방법, 미리 생성한 스레드를 재사용하도록 하여 스레드를 생성하는 시간을 줄여서 시스템의 부담을 덜어줍니다. 

Q8. 경량프로세스와 중량 프로세스의 차이

스레드 중에서 프로세스의 속성 중 일부가 들어 있는것을 경량 프로세스, 스레드 하나에 프로세스 하나인 전통적인 경우 중량 프로세스


Q9. 혼합형 스레드의 특징

다수의 사용자 수준 스레드에 다수의 커널 스레드가 다대다로 매핑됩니다. 커널 수준 스레드는 디스패치하고 스케줄링하여 프로세서에서 실행한다. 반면 경량 프로세스는 시스템 호출로 생성해서 커널 영역의 프로세스 문맥 안에서 실행하고, 커널로 독립적으로 스케줄링하여 다중 처리에서는 병렬로 실행합니다.

사용자기반 커널형 스레드사용자기반스레드 단점 커널1ㄷ1매핑 안되서 커널형은 커널 매핑 유연하게작업가능
경량 프로세스 (n:m)프로세스 하나에는 경량 프로세스가 하나 이상있고 경량 프로세스에는 이에 대응하는 커널 스레드가 한 개 있다.

자원과 입출력 대기를 하려고 경량 프로세스 단위로 대기하므로 프로세스는 입출력을 완료할 때까지 대기할 필요가 없다. 어떤 경량 프로세스가 입출력 완료를 기다리더라도 동일한 프로세스에서 다른 경량 프로세스를 실행할 수 있다. 